---
phase: 05-documentation-and-registry
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - package.json
  - server.json
  - README.md
autonomous: false
user_setup:
  - service: npm
    why: "Package publishing"
    env_vars:
      - name: NPM_TOKEN
        source: "npm login (interactive) or npmjs.com -> Access Tokens"
    dashboard_config:
      - task: "Verify npm account exists"
        location: "https://www.npmjs.com/signup"
  - service: github
    why: "MCP Registry authentication and repository URL"
    env_vars: []
    dashboard_config:
      - task: "Provide GitHub username for OWNER placeholder"
        location: "https://github.com/settings/profile"
      - task: "Create GitHub repository cc-bridge-mcp-server"
        location: "https://github.com/new"
  - service: mcp-registry
    why: "MCP Registry submission"
    env_vars: []
    dashboard_config:
      - task: "Install mcp-publisher CLI"
        location: "brew install mcp-publisher (or build from source)"

must_haves:
  truths:
    - "OWNER placeholder is replaced with actual GitHub username in all files"
    - "Package is published to npm and installable via npx"
    - "MCP Registry submission is completed"
  artifacts:
    - path: "package.json"
      provides: "Published npm package metadata with real GitHub owner"
      contains: "github.com"
    - path: "server.json"
      provides: "MCP Registry metadata with real GitHub owner"
      contains: "io.github."
    - path: "README.md"
      provides: "Documentation with real GitHub links"
      contains: "github.com"
  key_links:
    - from: "npm registry"
      to: "package.json"
      via: "npm publish uploads package"
      pattern: "cc-bridge-mcp-server"
    - from: "MCP Registry"
      to: "server.json"
      via: "mcp-publisher publish submits metadata"
      pattern: "io.github."
---

<objective>
Replace OWNER placeholders with actual GitHub username, publish package to npm, and submit to MCP Registry.

Purpose: The package becomes publicly available via `npx cc-bridge-mcp-server` and listed on the official MCP Registry for discoverability.
Output: Published npm package, MCP Registry listing, all placeholder URLs resolved.
</objective>

<execution_context>
@/Users/dev/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-documentation-and-registry/05-RESEARCH.md
@.planning/phases/05-documentation-and-registry/05-01-SUMMARY.md

@package.json
@server.json
@README.md
</context>

<tasks>

<task type="checkpoint:decision" gate="blocking">
  <name>Task 1: Get GitHub username for OWNER placeholder</name>
  <files>package.json, server.json, README.md</files>
  <action>
Ask user for their GitHub username. This determines the MCP Registry namespace (io.github.USERNAME/*) and all repository URLs in package.json, server.json, and README.md.

The following files contain "OWNER" as a placeholder:
- package.json: repository.url, homepage, bugs.url, mcpName
- server.json: name, repository.url
- README.md: any GitHub links
  </action>
  <decision>What is your GitHub username to replace the OWNER placeholder in package.json, server.json, and README.md?</decision>
  <options>
    <option id="provide-username">
      <name>Provide your GitHub username</name>
      <pros>All placeholders resolved, ready to publish</pros>
      <cons>None</cons>
    </option>
    <option id="skip-publishing">
      <name>Skip publishing for now (keep OWNER placeholder)</name>
      <pros>No account setup needed</pros>
      <cons>Package not published, registry submission deferred</cons>
    </option>
  </options>
  <verify>User has provided a GitHub username or chosen to skip</verify>
  <done>GitHub username captured for OWNER placeholder replacement, or publishing deferred by user choice</done>
  <resume-signal>Type your GitHub username, or "skip" to defer publishing</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Replace OWNER placeholders and publish to npm</name>
  <files>package.json, server.json, README.md</files>
  <action>
**If user provided a GitHub username (GITHUB_USER):**

1. Replace ALL "OWNER" placeholders across all three files:
   - package.json: repository.url, homepage, bugs.url, mcpName
   - server.json: name, repository.url
   - README.md: any GitHub URLs (if present)
   Use exact string replacement: "OWNER" -> "{GITHUB_USER}"

2. Verify consistency:
   - mcpName in package.json == name in server.json
   - repository.url in package.json matches server.json
   - Version 0.1.0 consistent everywhere

3. Run `npm run build` to ensure dist/ is fresh.

4. Run `npm pack --dry-run` to verify tarball contents (should show dist/, README.md, LICENSE, package.json, server.json).

5. Check npm name availability: `npm view cc-bridge-mcp-server` (if 404, name is available).

6. Publish to npm: `npm publish --access public`
   - If auth error, create a checkpoint for user to run `npm login` first.

7. Verify publication: `npm view cc-bridge-mcp-server version` should return 0.1.0.

8. Test installation: `npx cc-bridge-mcp-server --help` or verify it starts (will print banner to stderr).

**If user chose "skip":**
- Skip this task entirely. Note in summary that publishing was deferred.
  </action>
  <verify>
- npm view cc-bridge-mcp-server version returns "0.1.0"
- grep "OWNER" package.json server.json README.md returns NO matches
- npx -y cc-bridge-mcp-server starts successfully (prints banner to stderr)
  </verify>
  <done>
Package published to npm as cc-bridge-mcp-server@0.1.0. All OWNER placeholders replaced with actual GitHub username. Package installable via npx.
  </done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 3: MCP Registry submission</name>
  <files>server.json</files>
  <action>
Submit the package to the MCP Registry using the mcp-publisher CLI. This requires GitHub OAuth authentication that Claude cannot perform.
  </action>
  <instructions>
1. Install mcp-publisher if not already installed:
   ```bash
   brew install mcp-publisher
   ```

2. Authenticate with GitHub:
   ```bash
   mcp-publisher login
   ```
   This opens a browser for GitHub OAuth. Grant access to the io.github.{YOUR_USERNAME} namespace.

3. Verify server.json before submitting:
   ```bash
   mcp-publisher validate server.json
   ```

4. Submit to the MCP Registry:
   ```bash
   mcp-publisher publish server.json
   ```

5. Verify listing at: https://registry.modelcontextprotocol.io/servers/io.github.{YOUR_USERNAME}/cc-bridge-mcp-server

Type "done" when the registry submission is complete, or describe any issues encountered.
  </instructions>
  <verify>User confirms registry submission is complete or deferred</verify>
  <done>MCP Registry submission completed (or acknowledged as deferred by user)</done>
  <resume-signal>Type "done" when registry submission is complete, "skip" to defer, or describe any errors</resume-signal>
</task>

</tasks>

<verification>
1. No "OWNER" placeholder remains in any project file
2. npm view cc-bridge-mcp-server returns package metadata
3. npx -y cc-bridge-mcp-server starts the server successfully
4. MCP Registry lists the package (or submission is in progress)
</verification>

<success_criteria>
- Package published to npm as cc-bridge-mcp-server@0.1.0
- All OWNER placeholders replaced with actual GitHub username
- MCP Registry submission completed (or acknowledged as deferred)
- npx cc-bridge-mcp-server works in a clean environment
</success_criteria>

<output>
After completion, create `.planning/phases/05-documentation-and-registry/05-02-SUMMARY.md`
</output>
